{"cvrfdoc":{"document_title":"Red Hat Security Advisory: Red Hat Ceph Storage 3.3 Security and Bug Fix Update","document_distribution":"Copyright Â© 2021 Red Hat, Inc. All rights reserved.","document_references":{"reference":[{"description":"https://access.redhat.com/errata/RHSA-2021:1518","type":"Self","url":"https://access.redhat.com/errata/RHSA-2021:1518"},{"description":"https://access.redhat.com/security/updates/classification/#important","type":"External","url":"https://access.redhat.com/security/updates/classification/#important"}]},"aggregate_severity":"Important","document_tracking":{"initial_release_date":"2021-05-06T19:04:00Z","identification":{"id":"RHSA-2021:1518"},"revision_history":{"revision":{"date":"2021-05-06T19:04:00Z","number":"1","description":"Current version"}},"generator":{"date":"2021-08-23T04:57:00Z","engine":"Red Hat SDEngine 3.0.0"},"current_release_date":"2021-05-06T19:04:00Z","version":"1","status":"Final"},"product_tree":{"relationship":[{"relates_to_product_reference":"7Server-RHEL-7-RHCEPH-3-ELS-MON","product_reference":"ceph-2:12.2.12-139.el7cp","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-MON:ceph-2:12.2.12-139.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"ceph-2:12.2.12-139.el7cp as a component of Red Hat Ceph Storage 3 MON - ELS"},"relation_type":"Default Component Of"},{"relates_to_product_reference":"7Server-RHEL-7-RHCEPH-3-ELS-OSD","product_reference":"ceph-2:12.2.12-139.el7cp","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-OSD:ceph-2:12.2.12-139.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"ceph-2:12.2.12-139.el7cp as a component of Red Hat Ceph Storage 3 OSD - ELS"},"relation_type":"Default Component Of"},{"relates_to_product_reference":"7Server-RHEL-7-RHCEPH-3-ELS-Tools","product_reference":"ceph-2:12.2.12-139.el7cp","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-2:12.2.12-139.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"ceph-2:12.2.12-139.el7cp as a component of Red Hat Ceph Storage 3 Tools - ELS"},"relation_type":"Default Component Of"},{"relates_to_product_reference":"7Server-RHEL-7-RHCEPH-3-ELS-Tools","product_reference":"ceph-ansible-0:3.2.56-1.el7cp","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-ansible-0:3.2.56-1.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"ceph-ansible-0:3.2.56-1.el7cp as a component of Red Hat Ceph Storage 3 Tools - ELS"},"relation_type":"Default Component Of"},{"relates_to_product_reference":"7Server-RHEL-7-RHCEPH-3-ELS-Tools","product_reference":"cephmetrics-0:2.0.10-1.el7cp","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-Tools:cephmetrics-0:2.0.10-1.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"cephmetrics-0:2.0.10-1.el7cp as a component of Red Hat Ceph Storage 3 Tools - ELS"},"relation_type":"Default Component Of"},{"relates_to_product_reference":"7Server-RHEL-7-RHCEPH-3-ELS-Tools","product_reference":"grafana-0:5.2.4-3.el7cp","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-Tools:grafana-0:5.2.4-3.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"grafana-0:5.2.4-3.el7cp as a component of Red Hat Ceph Storage 3 Tools - ELS"},"relation_type":"Default Component Of"},{"relates_to_product_reference":"7Server-RHEL-7-RHCEPH-3-ELS-Tools","product_reference":"tcmu-runner-0:1.4.0-3.el7cp","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-Tools:tcmu-runner-0:1.4.0-3.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"tcmu-runner-0:1.4.0-3.el7cp as a component of Red Hat Ceph Storage 3 Tools - ELS"},"relation_type":"Default Component Of"}],"branch":[{"name":"Red Hat Ceph Storage","type":"Product Family","branch":[{"name":"Red Hat Ceph Storage 3 MON - ELS","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-MON","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"Red Hat Ceph Storage 3 MON - ELS"},"type":"Product Name"},{"name":"Red Hat Ceph Storage 3 OSD - ELS","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-OSD","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"Red Hat Ceph Storage 3 OSD - ELS"},"type":"Product Name"},{"name":"Red Hat Ceph Storage 3 Tools - ELS","full_product_name":{"product_id":"7Server-RHEL-7-RHCEPH-3-ELS-Tools","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"Red Hat Ceph Storage 3 Tools - ELS"},"type":"Product Name"}]},{"name":"ceph-2:12.2.12-139.el7cp","full_product_name":{"product_id":"ceph-2:12.2.12-139.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"ceph-12.2.12-139.el7cp.src.rpm"},"type":"Product Version"},{"name":"ceph-ansible-0:3.2.56-1.el7cp","full_product_name":{"product_id":"ceph-ansible-0:3.2.56-1.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"ceph-ansible-3.2.56-1.el7cp.src.rpm"},"type":"Product Version"},{"name":"cephmetrics-0:2.0.10-1.el7cp","full_product_name":{"product_id":"cephmetrics-0:2.0.10-1.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"cephmetrics-2.0.10-1.el7cp.src.rpm"},"type":"Product Version"},{"name":"grafana-0:5.2.4-3.el7cp","full_product_name":{"product_id":"grafana-0:5.2.4-3.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"grafana-5.2.4-3.el7cp.src.rpm"},"type":"Product Version"},{"name":"tcmu-runner-0:1.4.0-3.el7cp","full_product_name":{"product_id":"tcmu-runner-0:1.4.0-3.el7cp","cpe":"cpe:/a:redhat:ceph_storage:3::el7","product_name":"tcmu-runner-1.4.0-3.el7cp.src.rpm"},"type":"Product Version"}]},"document_publisher":{"issuing_authority":"Red Hat Product Security","contact_details":"secalert@redhat.com","type":"Vendor"},"vulnerability":[{"notes":{"note":"ceph: specially crafted XML payload on POST requests leads to DoS by crashing RGW"},"cve":"CVE-2020-12059","references":{"reference":[{"description":"https://ceph.io/releases/v13-2-10-mimic-released/","url":"https://ceph.io/releases/v13-2-10-mimic-released/"},{"description":"CVE-2020-12059","url":"https://access.redhat.com/security/cve/CVE-2020-12059"},{"description":"bz#1827262: CVE-2020-12059 ceph: specially crafted XML payload on POST requests leads to DoS by crashing RGW","url":"https://bugzilla.redhat.com/show_bug.cgi?id=1827262"}]},"release_date":"2020-04-07T10:00:00Z","involvements":{"involvement":{"party":"Vendor","status":"Completed"}},"product_statuses":{"status":{"product_id":["7Server-RHEL-7-RHCEPH-3-ELS-MON:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-OSD:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-ansible-0:3.2.56-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:cephmetrics-0:2.0.10-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:grafana-0:5.2.4-3.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:tcmu-runner-0:1.4.0-3.el7cp"],"type":"Fixed"}},"remediations":{"remediation":{"description":"For details on how to apply this update, which includes the changes described in this advisory, refer to:\nhttps://access.redhat.com/articles/11258","type":"Vendor Fix","url":"https://access.redhat.com/errata/RHSA-2021:1518"}},"threats":{"threat":{"description":"Moderate","type":"Impact"}},"discovery_date":"2020-04-22T00:00:00Z","ordinal":"1"},{"notes":{"note":"grafana: SSRF incorrect access control vulnerability allows unauthenticated users to make grafana send HTTP requests to any URL"},"cve":"CVE-2020-13379","references":{"reference":[{"description":"https://grafana.com/blog/2020/06/03/grafana-6.7.4-and-7.0.2-released-with-important-security-fix/","url":"https://grafana.com/blog/2020/06/03/grafana-6.7.4-and-7.0.2-released-with-important-security-fix/"},{"description":"https://www.openwall.com/lists/oss-security/2020/06/09/2/","url":"https://www.openwall.com/lists/oss-security/2020/06/09/2/"},{"description":"CVE-2020-13379","url":"https://access.redhat.com/security/cve/CVE-2020-13379"},{"description":"bz#1843640: CVE-2020-13379 grafana: SSRF incorrect access control vulnerability allows unauthenticated users to make grafana send HTTP requests to any URL","url":"https://bugzilla.redhat.com/show_bug.cgi?id=1843640"}]},"release_date":"2020-06-03T00:00:00Z","involvements":{"involvement":{"party":"Vendor","status":"Completed"}},"product_statuses":{"status":{"product_id":["7Server-RHEL-7-RHCEPH-3-ELS-MON:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-OSD:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-ansible-0:3.2.56-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:cephmetrics-0:2.0.10-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:grafana-0:5.2.4-3.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:tcmu-runner-0:1.4.0-3.el7cp"],"type":"Fixed"}},"remediations":{"remediation":{"description":"For details on how to apply this update, which includes the changes described in this advisory, refer to:\nhttps://access.redhat.com/articles/11258","type":"Vendor Fix","url":"https://access.redhat.com/errata/RHSA-2021:1518"}},"threats":{"threat":{"description":"Important","type":"Impact"}},"discovery_date":"2020-06-03T00:00:00Z","ordinal":"2"},{"notes":{"note":"ceph: User credentials can be manipulated and stolen by Native CephFS consumers of OpenStack Manila"},"cve":"CVE-2020-27781","references":{"reference":[{"description":"CVE-2020-27781","url":"https://access.redhat.com/security/cve/CVE-2020-27781"},{"description":"bz#1900109: CVE-2020-27781 ceph: User credentials can be manipulated and stolen by Native CephFS consumers of OpenStack Manila","url":"https://bugzilla.redhat.com/show_bug.cgi?id=1900109"}]},"release_date":"2020-12-16T00:00:00Z","involvements":{"involvement":{"party":"Vendor","status":"Completed"}},"product_statuses":{"status":{"product_id":["7Server-RHEL-7-RHCEPH-3-ELS-MON:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-OSD:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-ansible-0:3.2.56-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:cephmetrics-0:2.0.10-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:grafana-0:5.2.4-3.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:tcmu-runner-0:1.4.0-3.el7cp"],"type":"Fixed"}},"remediations":{"remediation":{"description":"For details on how to apply this update, which includes the changes described in this advisory, refer to:\nhttps://access.redhat.com/articles/11258","type":"Vendor Fix","url":"https://access.redhat.com/errata/RHSA-2021:1518"}},"threats":{"threat":{"description":"Important","type":"Impact"}},"acknowledgments":{"acknowledgment":{"description":"This issue was discovered by Goutham Pacha Ravi (Red Hat), Jahson Babel (Centre de Calcul de l'IN2P3), and John Garbutt (StackHPC)."}},"discovery_date":"2020-11-20T00:00:00Z","ordinal":"3"},{"notes":{"note":"tcmu-runner: SCSI target (LIO) write to any block on ILO backstore"},"cve":"CVE-2021-3139","references":{"reference":[{"description":"https://nvd.nist.gov/vuln/detail/CVE-2021-3139","url":"https://nvd.nist.gov/vuln/detail/CVE-2021-3139"},{"description":"CVE-2021-3139","url":"https://access.redhat.com/security/cve/CVE-2021-3139"},{"description":"bz#1916045: CVE-2021-3139 tcmu-runner: SCSI target (LIO) write to any block on ILO backstore","url":"https://bugzilla.redhat.com/show_bug.cgi?id=1916045"}]},"release_date":"2021-01-13T00:00:00Z","involvements":{"involvement":{"party":"Vendor","status":"Completed"}},"product_statuses":{"status":{"product_id":["7Server-RHEL-7-RHCEPH-3-ELS-MON:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-OSD:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-2:12.2.12-139.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:ceph-ansible-0:3.2.56-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:cephmetrics-0:2.0.10-1.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:grafana-0:5.2.4-3.el7cp","7Server-RHEL-7-RHCEPH-3-ELS-Tools:tcmu-runner-0:1.4.0-3.el7cp"],"type":"Fixed"}},"remediations":{"remediation":{"description":"For details on how to apply this update, which includes the changes described in this advisory, refer to:\nhttps://access.redhat.com/articles/11258","type":"Vendor Fix","url":"https://access.redhat.com/errata/RHSA-2021:1518"}},"threats":{"threat":{"description":"Important","type":"Impact"}},"discovery_date":"2021-01-13T00:00:00Z","ordinal":"4"}],"document_notes":{"note":["An update is now available for Red Hat Ceph Storage 3.3 - Extended Life Support on Red Hat Enterprise Linux 7.\nRed Hat Product Security has rated this update as having a security impact of Important. A Common Vulnerability Scoring System (CVSS) base score, which gives a detailed severity rating, is available for each vulnerability from the CVE link(s) in the References section.","Red Hat Ceph Storage is a scalable, open, software-defined storage platform that combines the most stable version of the Ceph storage system with a Ceph management platform, deployment utilities, and support services.\nThe ceph-ansible package provides Ansible playbooks for installing, maintaining, and upgrading Red Hat Ceph Storage.\nGrafana is an open source, feature rich metrics dashboard and graph editor for Graphite, InfluxDB & OpenTSDB. \nThe tcmu-runner packages provide a service that handles the complexity of the LIO kernel target's userspace passthrough interface (TCMU). It presents a C plugin API for extension modules that handle SCSI requests in ways not possible or suitable to be handled by LIO's in-kernel backstores.\nSecurity Fix(es):\n* grafana: SSRF incorrect access control vulnerability allows unauthenticated users to make grafana send HTTP requests to any URL (CVE-2020-13379)\n* ceph: User credentials can be manipulated and stolen by Native CephFS consumers of OpenStack Manila (CVE-2020-27781)\n* tcmu-runner: SCSI target (LIO) write to any block on ILO backstore (CVE-2021-3139)\n* ceph: specially crafted XML payload on POST requests leads to DoS by crashing RGW (CVE-2020-12059)\nFor more details about the security issue(s), including the impact, a CVSS score, acknowledgments, and other related information, refer to the CVE page(s) listed in the References section.\nBug Fix(es):\nThis advisory fixes the following bug:\n* When rebooting OSDs, the `_OSD down_` tab in the `_CEPH Backend storage_` dashboard shows the correct number of OSDs that is `down`. However, when all OSDs are `up` again after the reboot, the tab continues showing the number of `down` OSDs. With this update, both CLI and Grafana values are matching during osd up/down operation and working as expected. (BZ#1652233)\nAll users of Red Hat Ceph Storage are advised to upgrade to these updated packages.","This content is licensed under the Creative Commons Attribution 4.0 International License (https://creativecommons.org/licenses/by/4.0/). If you distribute this content, or a modified version of it, you must provide attribution to Red Hat Inc. and provide a link to the original."]},"document_type":"Security Advisory"}}